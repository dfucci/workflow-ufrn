<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    template="/layout/template.xhtml">
	<ui:define name="body">
		<rich:simpleTogglePanel switchType="client" label="#{executer.currentProcess.workflow.title}" opened="false" >
			<h:outputText value="#{executer.currentProcess.workflow.description}" />
		</rich:simpleTogglePanel>
		<br />
		<rich:panel header="#{executer.currentTask.name}" rendered="#{executer.currentTask != null}">
			<h:outputText value="#{executer.currentTask.description}" />
		</rich:panel>
		
		<rich:panel header="#{executer.currentJoin.name}" rendered="#{executer.currentJoin != null}">
			<h:outputText value="#{executer.currentJoin.description}" />
		</rich:panel>
		
		<rich:panel header="#{executer.endState.name}" rendered="#{executer.endState != null}">
			<h:outputText value="#{executer.endState.description}" />
		</rich:panel>
		
		<h:panelGroup>
			<ui:repeat var="transition" value="#{executer.transitions}">
				<h:commandButton action="#{executer.next(transition)}" value="#{((executer.currentUserExecution.finishedAt == null or executer.currentTask == null) ? transition.name : 'Pular tarefa jÃ¡ executada')}" styleClass="executeButton"/>
			</ui:repeat>
		</h:panelGroup>
	</ui:define>
</ui:composition>
